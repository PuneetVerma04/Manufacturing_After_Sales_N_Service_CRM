<template>
    <lightning-card title="Service Feedback" icon-name="standard:feedback">
        <div class="slds-p-around_medium">
            <!-- Manual Entry for Service Case and Customer Info -->
            <div class="slds-box slds-theme_shade slds-m-bottom_medium">
                <h3 class="slds-text-heading_small slds-m-bottom_small">Enter Service Case Details</h3>
                <div class="slds-form-element slds-m-bottom_small">
                    <label class="slds-form-element__label" for="serviceCaseId">Service Case ID</label>
                    <div class="slds-form-element__control">
                        <input id="serviceCaseId" name="serviceCaseId" class="slds-input" type="text" value={serviceCaseId} onchange={handleInputChange} required />
                    </div>
                </div>
                <div class="slds-form-element slds-m-bottom_small">
                    <label class="slds-form-element__label" for="customerName">Customer Name</label>
                    <div class="slds-form-element__control">
                        <input id="customerName" name="customerName" class="slds-input" type="text" value={customerName} onchange={handleInputChange} required />
                    </div>
                </div>
                <div class="slds-form-element slds-m-bottom_small">
                    <label class="slds-form-element__label" for="customerEmail">Customer Email</label>
                    <div class="slds-form-element__control">
                        <input id="customerEmail" name="customerEmail" class="slds-input" type="email" value={customerEmail} onchange={handleInputChange} required />
                    </div>
                </div>
            </div>

            <!-- Feedback Form -->
            <div class="slds-box">
                <h3 class="slds-text-heading_small slds-m-bottom_small">Provide Feedback</h3>
                <div class="slds-form">
                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="rating">Rating (1-5):</label>
                        <div class="slds-form-element__control">
                            <div class="slds-form-element__control">
                                <div class="slds-radio_button-group">
                                    <template for:each={ratingOptions} for:item="option">
                                        <span key={option.value} class="slds-radio_button">
                                            <input type="radio" id={option.value} name="rating" 
                                                   value={option.value} onchange={handleRatingChange} 
                                                   class="slds-radio_button__input" />
                                            <label for={option.value} class="slds-radio_button__label">
                                                <span class="slds-radio_faux">{option.label}</span>
                                            </label>
                                        </span>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="comments">Comments:</label>
                        <div class="slds-form-element__control">
                            <textarea id="comments" name="comments" class="slds-textarea"
                                      onchange={handleInputChange}
                                      rows="4"
                                      placeholder="Please share your experience with our service...">{comments}</textarea>
                        </div>
                    </div>
                </div>
                
                <div class="slds-m-top_medium">
                    <lightning-button label="Submit Feedback" onclick={submitFeedback} 
                                     variant="brand" disabled={isSubmitDisabled}></lightning-button>
                </div>
            </div>
            
            <!-- Success/Error Messages -->
            <template if:true={message}>
                <div class="slds-m-top_medium">
                    <div class={messageClass}>
                        <span class="slds-assistive-text">{messageType}</span>
                        {message}
                    </div>
                </div>
            </template>
        </div>
    </lightning-card>
</template>
